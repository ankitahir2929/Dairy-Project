<% layout("/layouts/boilerplate") %>
<div class="container">
  <div class="mt-3">
    <h3>Add a new Bill</h3>
  </div>
  <form
    method="POST"
    action="/billing"
    novalidate
    class="mb-3 needs-validation"
  >
    <fieldset class="mb-4">
      <legend>Customer Information</legend>
      <div class="row">
        <div class="mb-3">
          <label for="custNo" class="form-label">Customer No.</label>
          <input
            class="form-control custNo"
            type="number"
            id="custNo"
            name="custNo"
            required
            onblur="getCustName()"
          />
          <div class="invalid-feedback">Please select a customer</div>
        </div>
        <div class="mb-3">
          <label for="custName" class="form-label">Customer Name</label>
          <input
            type="text"
            class="form-control custName"
            id="custName"
            name="customer[name]"
            readonly
          />
        </div>
      </div>
    </fieldset>

    <fieldset class="mb-4">
      <legend>Product Information</legend>

      <div class="mb-3">
        <label for="proNo" class="form-label">Product No.</label>
        <input
          class="form-control proNo"
          type="number"
          id="proNo"
          name="billing[proNo]"
          required
          onblur="getProName()"
        />
        <div class="invalid-feedback">Please select a product</div>
      </div>
      <div class="mb-3">
        <label for="proName" class="form-label">Product Name</label>
        <input
          type="text"
          class="form-control proName"
          id="proName"
          name="billing[proName]"
          readonly
        />
      </div>

      <div class="mb-3">
        <label for="proPrice" class="form-label">Price</label>
        <input
          type="number"
          class="form-control proPrice"
          id="proPrice"
          name="billing[proPrice]"
        />
      </div>
      <div class="mb-3">
        <label for="qty" class="form-label">Quantity</label>
        <input
          type="number"
          value="1"
          min="1"
          class="form-control qty"
          id="qty"
          name="billing[qty]"
          required
        />
        <div class="invalid-feedback">Please enter valid quantity</div>
      </div>
      <div class="mb-3">
        <label for="date" class="form-label">Purchase Date</label>
        <input
          type="date"
          class="form-control date"
          id="date"
          name="billing[date]"
          onfocus="this.value = new Date().toLocaleDateString('en-CA');"
          required
        />
      </div>
    </fieldset>

    <button type="submit" class="mt-3 btn btn-primary">Create Bill</button>
  </form>
</div>
